<style>
    .rotate-45 {
      transform: rotate(45deg);
    }
    
    .fab-item {
      animation: fadeInUp 0.3s ease-out forwards;
      opacity: 0;
      transform: translateY(10px);
    }
    
    .fab-item:nth-child(1) {
      animation-delay: 0.05s;
    }
    
    .fab-item:nth-child(2) {
      animation-delay: 0.1s;
    }
    
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    #fab-icon {
      transition: transform 0.3s ease;
    }
  </style>
  
  <body class="bg-gray-100 min-h-screen">
  
    <!-- Floating Action Button -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col gap-3 items-end">
    
      {% if page.title contains 'Home' %}
      <!-- FREE MF REVIEW Button
        <a href="{{'/review/' | relative_url }}" id="mf-review-btn"
        class="bg-gradient-to-r from-pink-500 to-rose-600 hover:from-pink-600 hover:to-rose-700 text-white rounded-full px-4 py-2 shadow-lg transition-all duration-200 text-xl font-bold 
        flex items-center whitespace-nowrap transform hover:scale-110 uppercase">
            FREE MF REVIEW
            <i data-feather="arrow-right" class="w-4 h-4"></i>
        </a> -->

      <!-- Main Floating Button -->
      <button id="main-fab"
          class="bg-teal-600 hover:bg-teal-700 text-white rounded-full w-14 h-14 shadow-lg flex items-center justify-center transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-teal-400 focus:ring-offset-2"
          aria-label="Open menu"
          aria-expanded="false">
          <i id="fab-icon" data-feather="plus" class="w-6 h-6"></i>
      </button>
  
      {% endif %}
      <!-- Menu Items -->
      <div id="fab-menu" class="hidden flex-col gap-3 mb-3 items-end absolute bottom-full right-0">
        
        <!-- SIP Calc -->
        <a href="{{ '/calculators/sip-calculator/' | relative_url }}"
            class="fab-item bg-gradient-to-r from-cyan-500 to-emerald-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-full px-6 py-3 shadow-md transition-all duration-200 text-sm font-semibold flex items-center gap-2 whitespace-nowrap">
          <i data-feather="target" class="w-4 h-4"></i>
          SIP CALCULATOR
        </a>

        <!-- Risk Calc -->
        <a href="{{ '/risk-quiz/' | relative_url }}"
            class="fab-item bg-gradient-to-r from-blue-500 to-indigo-800 hover:from-blue-600 hover:to-blue-700 text-white rounded-full px-6 py-3 shadow-md transition-all duration-200 text-sm font-semibold flex items-center gap-2 whitespace-nowrap">
          <i data-feather="pen-tool" class="w-4 h-4"></i>
          RISK PRFILE
        </a>
  
        <!-- Contact -->
        <a href="/#contact"
            class="fab-item bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-full px-6 py-3 shadow-md transition-all duration-200 text-sm font-semibold flex items-center gap-2 whitespace-nowrap">
          <i data-feather="mail" class="w-4 h-4"></i>
          CONTACT
        </a>
  
      </div>
    </div>
  
  </body>
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      feather.replace();
  
      const mainFab = document.getElementById("main-fab");
      const fabMenu = document.getElementById("fab-menu");
      const fabIcon = document.getElementById("fab-icon");
  
      mainFab.addEventListener("click", () => {
        const isHidden = fabMenu.classList.contains("hidden");
        
        fabMenu.classList.toggle("hidden");
        fabMenu.classList.toggle("flex");
        fabIcon.classList.toggle("rotate-45");
        
        // Update ARIA attribute
        mainFab.setAttribute("aria-expanded", isHidden ? "true" : "false");
        
        // Re-render feather icons after menu items appear
        if (isHidden) {
          setTimeout(() => feather.replace(), 10);
        }
      });
  
      // Close menu when clicking outside
      document.addEventListener("click", (event) => {
        if (!mainFab.contains(event.target) && !fabMenu.contains(event.target)) {
          fabMenu.classList.add("hidden");
          fabMenu.classList.remove("flex");
          fabIcon.classList.remove("rotate-45");
          mainFab.setAttribute("aria-expanded", "false");
        }
      });
      
      // Close menu when clicking on menu items
      fabMenu.addEventListener("click", () => {
        fabMenu.classList.add("hidden");
        fabMenu.classList.remove("flex");
        fabIcon.classList.remove("rotate-45");
        mainFab.setAttribute("aria-expanded", "false");
      });
    });
  </script>